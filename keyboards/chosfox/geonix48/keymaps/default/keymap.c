/* Copyright 2015-2021 Jack Humbert
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include QMK_KEYBOARD_H

enum planck_layers {
  _QWERTY,
  _LOWER,
  _RAISE,
  _ADJUST,
  _L,
  _R,
  _NUM,
};

enum planck_keycodes {
  QWERTY = SAFE_RANGE,
};

#define LOWER MO(_LOWER)
#define RAISE MO(_RAISE)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

/* Qwerty
 * ,-----------------------------------------------------------------------------------.
 * |   Q  |   W  |   E  |   R  |   T  |Lower |Raise |   Y  |   U  |   I  |   O  |   P  |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |   A  |   S  |   D  |   F  |   G  | Esc  |Enter |   H  |   J  |   K  |   L  |   -  |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |   Z  |   X  |   C  |   V  |   B  |Shift |Shift |   N  |   M  |   (  |   )  |   ;  |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |MO(_L)| Del  | Tab  | Alt  | Ctrl |Space | Bksp | Ctrl | Alt  |無変換| 変換 |MO(_R)|
 * `-----------------------------------------------------------------------------------'
 */
[_QWERTY] = LAYOUT_ortho_4x12(
    KC_Q,         LCTL_T(KC_W), LSFT_T(KC_E), LCA_T(KC_R),  KC_T,            KC_BTN1, KC_BTN2, KC_Y,           LCA_T(KC_U),  RSFT_T(KC_I), LT(5, KC_O),  KC_P,
    LT(1, KC_A),  LALT_T(KC_S), LCTL_T(KC_D), LSFT_T(KC_F), KC_G,            KC_MS_D, KC_MS_U, KC_H,           RSFT_T(KC_J), RCTL_T(KC_K), RALT_T(KC_L), LT(5, KC_MINUS),
    LGUI_T(KC_Z), LCTL_T(KC_X), KC_C,         LALT_T(KC_V), KC_B,            KC_MS_L, KC_MS_R, KC_N,           RALT_T(KC_M), LSFT(KC_9),   LSFT(KC_0),   RGUI_T(KC_SLASH),
    KC_BTN3,      KC_F13,       KC_BTN4,      KC_BTN5,      LT(2, KC_SPACE), KC_WH_D, KC_WH_U, LT(5, KC_BSPC), KC_WH_L,      KC_WH_R,      KC_MNXT,      KC_MPLY
),

/* Lower
 * ,-----------------------------------------------------------------------------------.
 * |   ~  |   !  |   @  |   #  |   $  |   %  |   ^  |   &  |   *  |   (  |   )  | Bksp |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * | Del  |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |   _  |   +  |   {  |   }  |  |   |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |ISO ~ |ISO | | Home | End  |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |             |      | Next | Vol- | Vol+ | Play |
 * `-----------------------------------------------------------------------------------'
 */
[_LOWER] = LAYOUT_ortho_4x12(
    _______, _______,         KC_ESCAPE,      _______,          _______, _______, _______, KC_F1,    KC_F2,         KC_F3,         KC_F4,         _______,
    _______, LALT_T(KC_DEL),  LCTL_T(KC_TAB), LSFT_T(KC_ENTER), KC_BSPC, _______, _______, KC_F5,    RSFT_T(KC_F6), RCTL_T(KC_F7), RALT_T(KC_F8), _______,
    _______, LCTL_T(_______), LSFT(KC_TAB),   _______,          _______, _______, _______, KC_F9,    KC_F10,        KC_F11,        KC_F12,        _______,
    TG(_L),  _______,         _______,        _______,          _______, _______, _______, _______,  KC_INSERT,     KC_PSCR,       KC_SCRL,       KC_PAUSE
),

/* Raise
 * ,-----------------------------------------------------------------------------------.
 * |   `  |   1  |   2  |   3  |   4  |   5  |   6  |   7  |   8  |   9  |   0  | Bksp |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * | Del  |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |   -  |   =  |   [  |   ]  |  \   |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |ISO # |ISO / |Pg Up |Pg Dn |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |             |      | Next | Vol- | Vol+ | Play |
 * `-----------------------------------------------------------------------------------'
 */
[_RAISE] = LAYOUT_ortho_4x12(
    TO(_NUM), KC_HOME,          KC_UP,            KC_END,           KC_PGUP, _______, _______, _______, _______,              KC_LANGUAGE_2,   KC_LANGUAGE_1,   KC_APPLICATION,
    _______,  LALT_T(KC_LEFT),  LCTL_T(KC_DOWN),  LSFT_T(KC_RIGHT), KC_PGDN, _______, _______, _______, RSFT_T(KC_SEMICOLON), RCTL_T(KC_LBRC), RALT_T(KC_RBRC), KC_P,
    _______,  _______,          QK_AREP,          QK_REP,           _______, _______, _______, _______, KC_ENTER,             KC_COMMA,        KC_DOT,          KC_CAPS,
    _______,  _______,          _______,          _______,          _______, _______, _______, _______, KC_MNXT,              KC_VOLD,         KC_VOLU,         KC_MPLY
),

/* Adjust (Lower + Raise)
 *                      v------------------------RGB CONTROL--------------------v
 * ,-----------------------------------------------------------------------------------.
 * |      | Reset|Debug | RGB  |RGBMOD| HUE+ | HUE- | SAT+ | SAT- |BRGTH+|BRGTH-|  Del |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |MUSmod|Aud on|Audoff|AGnorm|AGswap|Qwerty|Colemk|Dvorak|Plover|      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |Voice-|Voice+|Mus on|Musoff|MIDIon|MIDIof|TermOn|TermOf|      |      |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |             |      |      |      |      |      |
 * `-----------------------------------------------------------------------------------'
 */
[_ADJUST] = LAYOUT_ortho_4x12(
    _______, LCAG(KC_W), LCAG(KC_E), LCAG(KC_R), LCAG(KC_T), _______, _______, _______, _______,         _______,         _______,         _______,
    _______, LCAG(KC_S), LCAG(KC_D), LCAG(KC_F), _______,    _______, _______, _______, RSFT_T(KC_TRNS), RCTL_T(KC_TRNS), RALT_T(KC_TRNS), _______,
    _______, _______,    _______,    _______,    _______,    _______, _______, _______, _______,         _______,         _______,         _______,
    _______, _______,    _______,    _______,    _______,    _______, _______, _______, _______,         _______,         _______,         QK_BOOT
),

[_L] = LAYOUT_ortho_4x12(
    KC_ESCAPE,   KC_Q,    KC_W,    KC_E,    KC_R,     KC_T,     KC_Y,    KC_U,    KC_I,     KC_O,    KC_P,         _______,
    KC_TAB,      KC_A,    KC_S,    KC_D,    KC_F,     KC_G,     KC_H,    KC_J,    KC_K,     KC_L,    KC_SEMICOLON, KC_QUOTE,
    KC_LSFT,     KC_Z,    KC_X,    KC_C,    KC_V,     KC_B,     KC_N,    KC_M,    KC_COMMA, KC_DOT,  KC_SLASH,     KC_RSFT,
    TG(_QWERTY), KC_TRNS, KC_LALT, KC_LCTL, KC_SPACE, KC_SPACE, _______, _______, _______,  _______, _______,      _______
),

[_R] = LAYOUT_ortho_4x12(
    _______,      KC_2,         KC_3,         KC_4,         KC_5,     _______, _______, _______, _______,         _______,       _______,          _______,
    KC_BACKSLASH, LALT_T(KC_9), LCTL_T(KC_0), LSFT_T(KC_1), KC_QUOTE, _______, _______, KC_LEFT, RSFT_T(KC_DOWN), RALT_T(KC_UP), RALT_T(KC_RIGHT), _______,
    KC_EQUAL,     KC_6,         KC_7,         KC_8,         KC_GRAVE, _______, _______, _______, _______,         _______,       _______,          _______,
    _______,      _______,      _______,      _______,      _______,  _______, _______, _______, _______,         _______,       _______,          _______
),

[_NUM] = LAYOUT_ortho_4x12(
    TO(_QWERTY), KC_P2,   KC_P3,   KC_P4,   KC_P5,   _______, _______, _______, _______, _______, _______, _______,
    _______,     KC_P9,   KC_P0,   KC_P1,   _______, _______, _______, _______, _______, _______, _______, _______,
    _______,     KC_P6,   KC_P7,   KC_P8,   _______,   _______, _______, _______, _______, _______, _______, _______,
    _______,     _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[7] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[8] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[9] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[10] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[11] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[12] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[13] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[14] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
),

[15] = LAYOUT_ortho_4x12(
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______
)

};


layer_state_t layer_state_set_user(layer_state_t state) {
  return update_tri_layer_state(state, _LOWER, _RAISE, _ADJUST);
}
